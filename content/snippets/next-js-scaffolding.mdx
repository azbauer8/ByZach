---
title: Next.js Scaffolding
dateTime: 2024-04-16T21:06:00.000Z
category: Configs
---
## Create Next.js app:

```bash
pnpx create-next-app@canary
```

```bash
What is your project named?  my-app
Would you like to use TypeScript?  Yes
Would you like to use ESLint?  Yes
Would you like to use Tailwind CSS?  Yes
Would you like to use `src/` directory?  Yes
Would you like to use App Router? (recommended)  Yes
Would you like to customize the default import alias (@/*)?  No
```

## Install packages:

Eslint:

```bash
pnpm i -D --save-dev eslint eslint-config-next eslint-config-prettier eslint-plugin-tailwindcss @typescript-eslint/eslint-plugin @typescript-eslint/parser
```

Prettier:

```bash
pnpm i -D --save-dev prettier prettier-plugin-tailwindcss @ianvs/prettier-plugin-sort-imports
```

Dev Tools:

```bash
pnpm i -D knip 
```

## Create configs:

Add to `package.json` scripts:

```json
"dev": "next dev --turbo",
"format": "prettier --write ./src",
"knip": "knip"
```

Update `next.config.js`

```js
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    ppr: true
  },
}

module.exports = nextConfig
```

Create `.eslintrc`

```json
{
  "extends": [
    "next/core-web-vitals", 
    "prettier",  
    "plugin:tailwindcss/recommended",     
    "plugin:@typescript-eslint/eslint-recommended",
    "plugin:@typescript-eslint/recommended"
  ],
    "overrides": [
    {
      "files": ["*.ts", "*.tsx"],
      "parser": "@typescript-eslint/parser",
      "parserOptions": {
        "project": "./tsconfig.json"
      }
    }
  ],
  "rules": {
    "@typescript-eslint/ban-ts-comment": "off"
  }
}
```

Create `.prettierrc`

```json
{
  "endOfLine": "lf",
  "semi": false,
  "singleQuote": false,
  "tabWidth": 2,
  "printWidth": 80,
  "trailingComma": "es5",

  "importOrder": [
    "^(react/(.*)$)|^(react$)",
    "^(next/(.*)$)|^(next$)",
    "<THIRD_PARTY_MODULES>",
    "",
    "^types$",
    "^@/types/(.*)$",
    "^@/config/(.*)$",
    "^@/lib/(.*)$",
    "^@/hooks/(.*)$",
    "^@/components/ui/(.*)$",
    "^@/components/(.*)$",
    "^@/styles/(.*)$",
    "^@/app/(.*)$",
    "",
    "^[./]"
  ],
  "importOrderParserPlugins": ["typescript", "jsx", "decorators-legacy"],

  "plugins": [
    "@ianvs/prettier-plugin-sort-imports",
    "prettier-plugin-tailwindcss"
  ]
}
```

Create `knip.json`

```json
{
  "$schema": "https://unpkg.com/knip@5/schema.json",
  "entry": ["index.{js,ts}", "src/index.{js,ts}"],
  "project": ["src/**/*.{js,ts}"]
}
```
